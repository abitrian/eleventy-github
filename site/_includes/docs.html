{% extends 'default.html' %}

{% block head %}
  {% inlinecss "docs.css" %}
  {% inlinejs "docs.js" %}
{% endblock %}

{% block content %}
  {% set toc = content | toc %}

  <div id="docsNavWrapper" class="minimalScroller">
    <nav id="docsNav">
      <ol class="first-level">{% include 'docs-nav.html' %}</ol>
    </nav>
  </div>

  <div id="rhsTocWrapper">
    {% if toc | tocHasEntries %}
      <nav id="rhsToc">
        <h2><a href="#content">{{ title }}</a></h2>
        <div id="rhsTocInner">
          {{ toc | safe }}
        </div>
      </nav>
    {% endif %}
  </div>

  <div id="articleWrapper">
    <article id="content">
      <h1>{{ title }}</h1>

      {% if toc | tocHasEntries %}
        <nav id="inlineToc">
          <details>
            <summary>
              <span aria-hidden="true" class="marker">â€º</span>
              <h2>Contents</h2>
            </summary>
            {{ toc | safe }}
          </details>
        </nav>
      {% endif %}

      {{ content | safe }}

      {% set navItems = collections.all | eleventyNavigation | flattenNavigationAndAddNextPrev %}
      {% for item in navItems %}
        {% if item.url === page.url and item.parent %}
          {% set prev = item.prev %}
          {% if not prev.parent %}
            {% set prev = prev.prev %}
          {% endif %}
          {% set next = item.next %}
          {% if not next.parent %}
            {% set next = next.next %}
          {% endif %}

          <div id="prevAndNextLinks">
            <span>
              {% if prev %}
                <a id="prevLink" href="{{ prev.url }}">
                  <!-- Source: https://material.io/resources/icons/?icon=arrow_back -->
                  <svg class="arrow" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor">
                    <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" />
                  </svg>
                  <span class="direction">Previous</span>
                  <span class="title">{{ prev.url | documentUrlTitle }}</span>
                </a>
              {% endif %}
            </span>

            <span>
              {% if next %}
                <a id="nextLink" href="{{ next.url }}">
                  <span class="direction">Next</span>
                  <span class="title">{{ next.url | documentUrlTitle }}</span>
                  <!-- Source: https://material.io/resources/icons/?icon=arrow_forward -->
                  <svg class="arrow" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor">
                    <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z" />
                  </svg>
                </a>
              {% endif %}
            </span>
          </div>
        {% endif %}
      {% endfor %}
    </article>
  </div>

{% endblock %}
