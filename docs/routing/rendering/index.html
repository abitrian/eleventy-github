<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,user-scalable=yes"><title>Rendering pages - Cells</title><meta name="description" content="Simple. Fast. Web Components."><link rel="icon" href="/images/cells-favicon.svg"><link rel="mask-icon" href="/images/cells-favicon.svg" color="#324fff"><link rel="stylesheet" href="/css/prism.css"><link rel="stylesheet" href="/css/pagefind.css"><link rel="stylesheet" href="/css/global.css"><link rel="stylesheet" href="/css/mods.css"><link rel="stylesheet" href="/css/mobile-nav.css"><link rel="stylesheet" href="/css/docs-nav.css"><script type="module" src="/js/global.js"></script><link rel="stylesheet" href="/css/docs.css"><script type="module" src="/js/docs.js"></script></head><body><dialog id="search" class="pagefind-search"></dialog><aside class="mobileNav"><a class="go-home" href="/" aria-label="Home"><img src="/images/logo.svg" alt="Cells Home"></a><nav class="mobileSiteNav"><ol><li class="navItem active"><a href="/docs/"><span>Documentation</span> <svg><use xlink:href="/images/icons/documentation.svg#documentation"></use></svg></a></li><li class="navItem"><a href="https://github.com/BBVA/open-cells" target="_blank" rel="noopener" title="GitHub" aria-label="GitHub"><span>Github</span> <svg><use xlink:href="/images/icons/github.svg#github"></use></svg></a></li><li class="navItem"><a href="#" class="search" aria-label="Site search" title="Site search"><span>Search</span> <svg><use xlink:href="/images/icons/search.svg#search"></use></svg></a></li></ol></nav><nav id="docsNav"><ol class="first-level"><details class="wrapper section-collapse" open><summary class="sectionHead"><span aria-hidden="true" class="marker">›</span>Introduction</summary><ol class="second-level"><li><a href="/docs/">What is Open Cells?</a></li><li><a href="/docs/getting-started/">Getting Started</a></li></ol></details><details class="wrapper section-collapse"><summary class="sectionHead"><span aria-hidden="true" class="marker">›</span>Application</summary><ol class="second-level"><li><a href="/docs/application/bootstrapping/">Bootstrapping</a></li><li><a href="/docs/application/configuration/">Configuration</a></li></ol></details><details class="wrapper section-collapse"><summary class="sectionHead"><span aria-hidden="true" class="marker">›</span>State</summary><ol class="second-level"><li><a href="/docs/state/channels/">Channels</a></li><li><a href="/docs/state/controllers/">Controllers</a></li></ol></details><details class="wrapper section-collapse activeSection" open><summary class="sectionHead"><span aria-hidden="true" class="marker">›</span>Routing</summary><ol class="second-level"><li><a href="/docs/routing/routes/">Routes</a></li><li class="active"><a href="/docs/routing/rendering/">Rendering</a></li><li><a href="/docs/routing/interceptor/">Interceptor</a></li></ol></details><details class="wrapper section-collapse"><summary class="sectionHead"><span aria-hidden="true" class="marker">›</span>Transitions</summary><ol class="second-level"><li><a href="/docs/transitions/page-transitions/">Page Transitions</a></li></ol></details></ol></nav></aside><div class="veil"></div><header class="page-header"><nav><a class="home-link" href="/" aria-label="Home"><img class="header-logo" src="/images/logo.svg" alt="Cells Home"></a><ol id="desktopNav"><li class="navItem active"><a href="/docs/"><span>Documentation</span> <svg><use xlink:href="/images/icons/documentation.svg#documentation"></use></svg></a></li><li class="navItem"><a href="https://github.com/BBVA/open-cells" target="_blank" rel="noopener" title="GitHub" aria-label="GitHub"><span>Github</span> <svg><use xlink:href="/images/icons/github.svg#github"></use></svg></a></li><li class="navItem"><a href="#" class="search" aria-label="Site search" title="Site search"><span>Search</span> <svg><use xlink:href="/images/icons/search.svg#search"></use></svg></a></li></ol><a href="#" id="mobileMenuButton" aria-label="Open mobile navigation" title="Open mobile navigation"><svg><use xlink:href="/images/icons/menu.svg#menu"></use></svg></a></nav></header><main><div id="docsNavWrapper" class="minimalScroller"><nav id="docsNav"><ol class="first-level"><details class="wrapper section-collapse" open><summary class="sectionHead"><span aria-hidden="true" class="marker">›</span>Introduction</summary><ol class="second-level"><li><a href="/docs/">What is Open Cells?</a></li><li><a href="/docs/getting-started/">Getting Started</a></li></ol></details><details class="wrapper section-collapse"><summary class="sectionHead"><span aria-hidden="true" class="marker">›</span>Application</summary><ol class="second-level"><li><a href="/docs/application/bootstrapping/">Bootstrapping</a></li><li><a href="/docs/application/configuration/">Configuration</a></li></ol></details><details class="wrapper section-collapse"><summary class="sectionHead"><span aria-hidden="true" class="marker">›</span>State</summary><ol class="second-level"><li><a href="/docs/state/channels/">Channels</a></li><li><a href="/docs/state/controllers/">Controllers</a></li></ol></details><details class="wrapper section-collapse activeSection" open><summary class="sectionHead"><span aria-hidden="true" class="marker">›</span>Routing</summary><ol class="second-level"><li><a href="/docs/routing/routes/">Routes</a></li><li class="active"><a href="/docs/routing/rendering/">Rendering</a></li><li><a href="/docs/routing/interceptor/">Interceptor</a></li></ol></details><details class="wrapper section-collapse"><summary class="sectionHead"><span aria-hidden="true" class="marker">›</span>Transitions</summary><ol class="second-level"><li><a href="/docs/transitions/page-transitions/">Page Transitions</a></li></ol></details></ol></nav></div><div id="rhsTocWrapper"><nav id="rhsToc"><h2><a href="#content">Rendering pages</a></h2><div id="rhsTocInner"><div class=""><ol><li><a href="#limiting-the-number-of-pages-in-the-dom">Limiting the number of pages in the DOM</a></li><li><a href="#simple-deallocation">Simple deallocation</a></li><li><a href="#deallocation-with-persistent-pages">Deallocation with persistent pages</a></li></ol></div></div></nav></div><div id="articleWrapper"><article id="content"><h1>Rendering pages</h1><nav id="inlineToc"><details><summary><span aria-hidden="true" class="marker">›</span><h2>Contents</h2></summary><div class=""><ol><li><a href="#limiting-the-number-of-pages-in-the-dom">Limiting the number of pages in the DOM</a></li><li><a href="#simple-deallocation">Simple deallocation</a></li><li><a href="#deallocation-with-persistent-pages">Deallocation with persistent pages</a></li></ol></div></details></nav><p>Open Cells is a framework for Single Page Applications so it reacts to changes in the fragment identifier of the url (the hash part). Whenever it detects a change it will look for a page associated with that fragment and it will render the component page inside the DOM element defined in the <code>mainNode</code> property which is passed in the startApp function. One unique feature of Open Cells is that each page that is rendered, is appended to the mainNode, instead of replacing the mainNode content as most of the SPA frameworks do. This is good because</p><p>Open Cells is a framework specifically designed for building Single Page Applications (SPAs). It monitors and responds to modifications in the URL's fragment identifier, commonly known as the hash part. Whenever there's a change detected in this fragment, Open Cells searches for a page linked to that particular fragment. Following the identification of the appropriate page, it renders the page's component within a designated area of the web document. This area is determined by the mainNode property, which is specified when initiating the application using the <code>startApp</code> function.</p><p>A distinctive characteristic of Open Cells, setting it apart from many other SPA frameworks, is its approach to rendering new pages. Instead of the traditional method where the new page content completely replaces the existing content within the <code>mainNode</code>, Open Cells adds each new page to the <code>mainNode</code>. This additive approach ensures that the content of previously rendered pages is preserved within the main node, rather than being overwritten. This technique is advantageous because it allows for a more dynamic and layered user experience, where multiple pages can be layered or navigated through without losing the context or content of previously interacted pages. It enhances the application's interactivity and can significantly improve user navigation and engagement by providing a seamless transition between pages and retaining a visual history of the user's journey through the app.</p><div class="heading h2"><h2 id="limiting-the-number-of-pages-in-the-dom" tabindex="-1">Limiting the number of pages in the DOM</h2><a class="anchor" href="#limiting-the-number-of-pages-in-the-dom"><span class="offscreen">Permalink to “Limiting the number of pages in the DOM”</span> <span aria-hidden="true">#</span></a></div><p>To ensure optimal performance and prevent the Document Object Model (DOM) from becoming overly cluttered with pages, Open Cells provides a feature to limit the number of pages retained in the DOM at any given time. This functionality is particularly useful for maintaining a clean and efficient application structure, especially in Single Page Applications (SPAs) where numerous pages can be loaded dynamically.</p><p>This limit can be easily configured through the startApp function by adjusting the viewLimit property within the configuration object. The viewLimit property specifies the maximum number of pages that can be stored in the DOM simultaneously.</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>startApp<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@open-cells/core'</span><span class="token punctuation">;</span>

<span class="token function">startApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">,</span>
  <span class="token literal-property property">mainNode</span><span class="token operator">:</span> <span class="token string">'appContent'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">viewLimit</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">// Specifies the maximum number of pages allowed in the DOM</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Determining the appropriate value for viewLimit requires consideration of several factors specific to your application:</p><ul><li>Total Number of Pages: The overall structure and size of your application will influence how you set this limit. A larger application with many pages may require a higher limit to accommodate the user's navigation patterns.</li><li>Complexity of Pages: Pages with a high number of elements or complex layouts may consume more resources. In such cases, a lower limit might be necessary to ensure smooth performance.</li><li>User Interaction and Repaint Frequency: Consider how often users are likely to switch between pages and how dynamic the page content is. Applications requiring frequent page updates or repaints may benefit from a carefully adjusted viewLimit to balance between performance and user experience.</li></ul><p>By fine-tuning the viewLimit, developers can strike a balance between application responsiveness and memory usage, ensuring a fluid and efficient user experience while preventing excessive DOM bloat.</p><div class="heading h2"><h2 id="simple-deallocation" tabindex="-1">Simple deallocation</h2><a class="anchor" href="#simple-deallocation"><span class="offscreen">Permalink to “Simple deallocation”</span> <span aria-hidden="true">#</span></a></div><p>Open Cells employs a First In, First Out (FIFO) approach to manage page deallocation, ensuring that memory usage remains efficient without compromising the user experience. For instance, consider an application with a <code>viewLimit</code> set to 4, loaded with pages in the following order: 'welcome', 'login', 'dashboard', and 'account'. All these pages are currently in the DOM. Upon navigating to the 'about' page, which is not yet in the DOM, Open Cells needs to load it. However, this action would exceed the specified viewLimit. To resolve this, Open Cells deallocates the oldest page ('welcome' in this case) to make room for 'about'. Consequently, the DOM will then contain 'login', 'dashboard', 'account', and 'about'. As navigation progresses and new pages need to be loaded, the FIFO principle ensures that the oldest loaded pages are deallocated first, maintaining the DOM's size within the set limit.</p><div class="heading h2"><h2 id="deallocation-with-persistent-pages" tabindex="-1">Deallocation with persistent pages</h2><a class="anchor" href="#deallocation-with-persistent-pages"><span class="offscreen">Permalink to “Deallocation with persistent pages”</span> <span aria-hidden="true">#</span></a></div><p>Recognizing the performance impact of rendering complex or frequently visited pages, Open Cells allows for the specification of persistent pages. These are pages that, once loaded into the DOM, remain there without being deallocated, except under specific circumstances like a user logout. This feature is especially beneficial for pages that are resource-intensive to paint due to their complexity or because they contain heavyweight components.</p><p>Persistent pages are defined in the configuration object passed to the <code>startApp</code> function, allowing developers to easily designate which pages should remain in the DOM indefinitely:</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>startApp<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@open-cells/core'</span><span class="token punctuation">;</span>

<span class="token function">startApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">,</span>
  <span class="token literal-property property">mainNode</span><span class="token operator">:</span> <span class="token string">'appContent'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">viewLimit</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">;</span>
  <span class="token literal-property property">persistentPages</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'dashboard'</span><span class="token punctuation">,</span> <span class="token string">'cards'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Ensures these pages remain in the DOM</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="heading h4"><h4 id="maximum-number-of-pages-in-the-dom" tabindex="-1">Maximum number of pages in the DOM</h4><a class="anchor" href="#maximum-number-of-pages-in-the-dom"><span class="offscreen">Permalink to “Maximum number of pages in the DOM”</span> <span aria-hidden="true">#</span></a></div><p>Considering the inclusion of persistent pages, the maximum number of pages that can be simultaneously present in the DOM is calculated by adding the number of persistent pages to the <code>viewLimit</code>.</p><pre><code> MAX TOTAL PAGES IN DOM = viewLimit +  persistentPages.length()
</code></pre><p>This calculation ensures that the application can maintain optimal performance by dynamically managing the number of pages in the DOM, balancing between memory efficiency and the need for quick access to critical pages.</p><p>By implementing these strategies, Open Cells provides a robust framework for SPA development, offering developers fine-grained control over DOM management to optimize performance and use</p><div id="prevAndNextLinks"><span><a id="prevLink" href="/docs/routing/routes/"><svg class="arrow" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg> <span class="direction">Previous</span> <span class="title">Defining routes</span> </a></span><span><a id="nextLink" href="/docs/routing/interceptor/"><span class="direction">Next</span> <span class="title">Router Interceptor</span><svg class="arrow" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg></a></span></div></article></div></main><footer><div class="home-content"><p>Code licensed under <a href="https://spdx.org/licenses/BSD-3-Clause.html" target="_blank">BSD-3-Clause</a></p><p>Documentation licensed under <a href="https://spdx.org/licenses/CC-BY-3.0" target="_blank">BSD-3-Clause</a></p><p>Copyright BBVA S.L.</p></div></footer><script src="/js/prism.js"></script><script src="/pagefind/pagefind-ui.js" onload="new PagefindUI({ element: '#search', showImages: false });"></script></body></html>